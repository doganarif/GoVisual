{{define "request-details"}}
<div id="requestDetails" class="card" style="display: none">
  <div class="card-header">
    <h2>Connection Details</h2>
  </div>
  <div id="detailsContent">
    <div class="detail-row">
      <strong>ID:</strong> <span id="detail-id"></span>
    </div>
    <div class="detail-row">
      <strong>Time:</strong> <span id="detail-time"></span>
    </div>
    <div class="detail-row">
      <strong>Connection Type:</strong> <span id="detail-connection-type"></span>
    </div>
    <div class="detail-row">
      <strong>Method:</strong> <span id="detail-method"></span>
    </div>
    <div class="detail-row">
      <strong>Path:</strong> <span id="detail-path"></span>
    </div>
    <div class="detail-row">
      <strong>Status:</strong> <span id="detail-status"></span>
    </div>
    <div class="detail-row">
      <strong>Duration:</strong> <span id="detail-duration"></span>
    </div>

    <!-- WebSocket-specific details -->
    <div id="ws-details-container" style="display: none">
      <h3>WebSocket Details</h3>
      <div class="detail-row">
        <strong>Connection ID:</strong> <span id="ws-connection-id"></span>
      </div>
      <div class="detail-row">
        <strong>Message Type:</strong> <span id="ws-message-type"></span>
      </div>
      <div class="detail-row">
        <strong>Direction:</strong> <span id="ws-direction"></span>
      </div>
      <div class="detail-row">
        <strong>Message Size:</strong> <span id="ws-message-size"></span>
      </div>
      <div class="detail-row">
        <strong>Subprotocol:</strong> <span id="ws-subprotocol"></span>
      </div>
      <div class="detail-row">
        <strong>Is Handshake:</strong> <span id="ws-is-handshake"></span>
      </div>
    </div>

    <h3>Request Headers</h3>
    <pre id="detail-request-headers"></pre>

    <h3>Response Headers</h3>
    <pre id="detail-response-headers"></pre>

    <div id="request-body-container">
      <h3>Request/Message Body</h3>
      <pre id="detail-request-body"></pre>
    </div>

    <div id="response-body-container">
      <h3>Response Body</h3>
      <pre id="detail-response-body"></pre>
    </div>
  </div>
  <button id="close-details" class="btn">Close Details</button>
</div>
{{end}}
